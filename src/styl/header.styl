@import 'settings'
@import 'options'


header-height = 58px
header-height-mini = 40px
hamburger-size = 46px
hamburger-size-mini = 40px


$close
    width unit(header-height/2, 'px')
    height @width
    self-center(vertical)
    right 3%
    +below(breaks.base)
        width unit(header-height-mini/2, 'px')
        height @width
    +below(breaks.mobile)
        right unit(header-height-mini/2, 'px')
        top @right
        transform none
    @extend $cross
    
$hamburger
    self-center()
    width unit(hamburger-size/2, 'px')
    +below(breaks.base)
        width unit(hamburger-size-mini/2, 'px')
    &:before, &:after
            content ''
            display block
            position absolute
            top 50%
            left 50%
            width 100%
            opacity 1
            background none
        &:before
            transform translate(-50%, -8px)
            box-sizing content-box
            height 6px
            border-top 2px solid #fff
            border-bottom 2px solid #fff
            +below(breaks.base)
                transform translate(-50%, -6px)
                height 3px
                
        &:after
            background #fff
            height 2px
            transform translate(-50%, 8px)
            +below(breaks.base)
                transform translate(-50%, 4px)

header
    opacity 0
    position fixed !important
    top 0
    left 50%
    transform translate3d(0,0,0)
    transform translate(-50%,0px)
    transform-origin 50%
    background #222935
    height header-height
    width 105%
    z-index 999999991
    transition transform 400ms ease-in-out-circ, top 400ms ease-in-out-circ, left 400ms ease-in-out-circ, width 400ms ease-in-out-circ, height 400ms ease-in-out-circ, opacity 650ms ease-out-quad, clip-path 400ms ease-out-quad, -webkit-clip-path 400ms ease-out-quad
    border-radius header-height
    overflow hidden
    +below(breaks.base)
        height header-height-mini
    +below(breaks.base)
        height 100vh
    +below(breaks.mobile)
        width 100%
    .toggler
        height 20px
        cursor pointer
        position absolute
        z-index 99
    .contain
        position relative
        text-align center
        height 100%
        width 85%
        margin 0 auto
        max-width 900px
        overflow hidden
        opacity 0
        background #222935
        transition opacity 400ms ease
        +below(breaks.base)
            width 100vw
        .nav
            float right
            inline-mid()
            width 100%
            // display block
            padding 10% 0
            // backface-visibility hidden
            +below(breaks.base)
                float none
                position absolute
                transform translate(-50%, -65%)
                top 50%
                left 50%
                transition transform 200ms ease-in-out-quad
            +above(breaks.base)
                padding 0
                height header-height
                right 0
                height 100%
                width auto
            li
                margin 0 10px
                +below(breaks.base)
                    display block !important
                    margin-bottom unit(header-height-mini/2, 'px')
                a
                    display inline-block
                    transform translate3d(0,0,0)
                    font-size 14px
                    color linkgray
                    position relative
                    font-family 'HelveticaLight' !important
                    padding-bottom 6px
                    border-bottom 1px solid transparent
                    &:hover
                         color lighten(linkblue, 5)
                    &.active
                        color linkblue
                        border-bottom 1px solid linkblue
                        pointer-events none
                    +below(breaks.base)
                        font-size 5vw
                        text-transform uppercase
                        letter-spacing 1px
        .logo
            self-center(vertical)
            width 235px
            height header-height
            display block
            margin 0 auto
            background url('data:img/png;base64,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') no-repeat 50% 50%
            +above(breaks.base)
                left 0
                height 26px
            +below(breaks.base)
                self-center(horizontal)
                bottom 36vh
                top auto
    &.maximized
        transition all 400ms ease-out-quad, border-radius 650ms ease-out-quad
        opacity 1
        border-radius 0
        .toggler
            @extend $hamburger
            left calc(98% - 40px)
            // +below(breaks.base)
            //     top 3%
            //     left calc(98% - 15px)
            &:before
                border-color linkgray
             &:after
                background linkgray
        .contain
            opacity 1
        +below(breaks.base)
            transition transform 400ms ease-in-out-circ, left 400ms ease-in-out-circ, opacity 650ms ease-out-quad
            height 150vh
            width 150vw
            border-radius 100%
            self-center()
            top 50vh
            left 50vw
            position fixed
            // clip-path circle(100vh at center)
            // -webkit-clip-path circle(100vh at center)
            opacity 1
            .toggler
                // transition top 400ms ease-out-quad
                top 30vh
                left 118vw
            // left 0
            // transform none
            .nav
                // position absolute
                top 50%
                transform translate(-50%, -50%)
  
    &.animate
        width hamburger-size
        height @width
        opacity 1
        +below(breaks.base)
            // transition transform 400ms ease-in-out-circ, left 400ms ease-in-out-circ, opacity 650ms ease-out-quad, clip-path 400ms ease-out-quad, -webkit-clip-path 400ms ease-out-quad
            transition transform 400ms ease-in-out-circ, left 400ms ease-in-out-circ, opacity 650ms ease-out-quad, width 400ms ease-out-quad, height 400ms ease-out-quad
        .contain
            opacity 0
        +below(breaks.base)
            width hamburger-size-mini
        +below(breaks.base)
            width 120vh
            height 120vh
            self-center()
            border-radius 100%
            // clip-path circle(100vh at center)
            // -webkit-clip-path circle(100vh at center)
            // border-radius 0
            &.seed
                self-center()
                border-radius 16px
                opacity 0.5
                // clip-path circle(31px at center)
                // -webkit-clip-path circle(31px at center) 
    &.hamburger
        top 1%
        +below(breaks.base)
            top 0
            // transition transform 400ms ease-in-out-circ, top 400ms ease-in-out-circ, left 400ms ease-in-out-circ, opacity 650ms ease-out-quad, clip-path 400ms ease-out-quad, -webkit-clip-path 400ms ease-out-quad
            transition transform 400ms ease-in-out-circ, top 400ms ease-in-out-circ, left 400ms ease-in-out-circ, opacity 650ms ease-out-quad, width 400ms ease-out-quad, height 400ms ease-out-quad
            border-radius 100%
            width 40px
            height 40px
            
            // clip-path circle(31px at center)
            // -webkit-clip-path circle(31px at center)
            opacity 0.5
            transform-origin 50% 50%
            self-center()
            position fixed
            .nav
                top 50%
                transform translate(-50%, -150%)
                transition transform 600ms ease-out-back, opacity 400ms ease-out
            .contain
                opacity 0
                height 0
                overflow hidden
                .nav
                    opacity 0
                    transform translate(-50%, -150%)
    &.placed
        left calc(100% - 40px)
        opacity 0.6
        cursor pointer
        background #222935
        right auto
        bottom auto
        .toggler
            @extend $hamburger
        +below(breaks.base)
            // transition transform 380ms ease-in-out-circ, top 380ms ease-in-out-circ, left 380ms ease-in-out-circ, clip-path 400ms ease-out-quad, -webkit-clip-path 400ms ease-out-quad
            transition transform 380ms ease-in-out-circ, top 380ms ease-in-out-circ, left 380ms ease-in-out-circ, width 400ms ease-out-quad, height 400ms ease-out-quad
            top 5vh
            width 40px
            height 40px
            clip-path none
            -webkit-clip-path none
            // border-radius unit(header-height-mini/2, 'px')
            +below(breaks.base)
                left calc(100% - 5vh)
            